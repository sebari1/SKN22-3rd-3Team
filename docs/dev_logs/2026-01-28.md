# ê°œë°œ ì¼ì§€ (2026-01-28)

ì˜¤ëŠ˜ì˜ í•µì‹¬ ì„±ê³¼ëŠ” **"ë¬¼ë¦¬ì  ë¶„ë¦¬ì—ì„œ ë…¼ë¦¬ì  ì •ì±…(Policy) ê¸°ë°˜ êµ¬ì¡°ë¡œì˜ ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§"** ë° **ë°ì´í„°/ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜ì˜ ì§€ëŠ¥í™”**ì…ë‹ˆë‹¤. Phase 1(ë°ì´í„° ì „ì²˜ë¦¬)ê³¼ Phase 2(ì¸í”„ë¼/ì‹œìŠ¤í…œ)ì˜ ëª¨ë“  ì§„í–‰ ì‚¬í•­ì„ í†µí•© ê¸°ë¡í•©ë‹ˆë‹¤.

---

## ğŸ—ï¸ 1. ì•„í‚¤í…ì²˜ ë¦¬íŒ©í† ë§ ë° êµ¬ì¡° ì§€ëŠ¥í™” (âœ… ì™„ë£Œ)

ë‹¨ìˆœ í´ë” ë¶„ë¦¬ ë°©ì‹ì—ì„œ íƒˆí”¼í•˜ì—¬, í•˜ë‚˜ì˜ ì½”ë“œ ë² ì´ìŠ¤ê°€ ì •ì±… ì„¤ì •ì— ë”°ë¼ ìœ ì—°í•˜ê²Œ ë™ì‘í•˜ë„ë¡ ì„¤ê³„ íŒ¨í„´ì„ ë„ì…í–ˆìŠµë‹ˆë‹¤.

### ìŠ¤í¬ë¦½íŠ¸ ë° ë¡œì§ í†µí•© (Unified Architecture)
- **í†µí•© ì‹¤í–‰ê¸° êµ¬ì¶•**: `classify_v1/v2.py` ë° `ingest_v1/v2.py`ë¥¼ ì‚­ì œí•˜ê³ , **`scripts/classify.py --version [v1|v2]`** ë° **`scripts/ingest.py`**ë¡œ ë‹¨ì¼í™”í–ˆìŠµë‹ˆë‹¤.
- **V1 ë¡œì§ ë³µì›**: ìœ ì‹¤ë˜ì—ˆë˜ ë‹¨ì¼ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ ë¡œì§ì„ ë³µì›í•˜ì—¬ í†µí•© ì‹œìŠ¤í…œ ë‚´ `LegacyClassifier` ì „ëµìœ¼ë¡œ í¸ì…ì‹œì¼°ìŠµë‹ˆë‹¤.

### ë””ìì¸ íŒ¨í„´ ë° êµ¬ì¡° ìµœì í™” (Design Patterns)
- **ì „ëµ ë° íŒ©í† ë¦¬ íŒ¨í„´**: `src/core/config.py`ì— ì •ì±… ê°ì²´ë¥¼ ì •ì˜í•˜ê³ , `ClassifierFactory`ì™€ `IngestionStrategy`ë¥¼ ë„ì…í•˜ì—¬ ë²„ì „ë³„ ë°ì´í„° ê°€ê³µ ë° ë¶„ë¥˜ ë¡œì§ì„ ë™ì ìœ¼ë¡œ ì „í™˜í•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
- **ë””ë ‰í„°ë¦¬ êµ¬ì¡° ìµœì í™”**: ì¸ì§€ ë¶€í•˜ ê°ì†Œë¥¼ ìœ„í•´ í´ë” ê¹Šì´ë¥¼ ì¤„ì˜€ìŠµë‹ˆë‹¤. (ìµœëŒ€ 3ë‹¨ê³„ ì¤€ìˆ˜, ì˜ˆ: `src/domain/classifier.py`)
- **ë¬¸ì„œ ì²´ê³„í™”**: `task.md`ë¥¼ `docs/01_project/project_idea.md` ë¡œë“œë§µìœ¼ë¡œ í†µí•©í•˜ê³ , ë¹„ëŒ€í•´ì§„ ê¸°íš ë¬¸ì„œë¥¼ `personas.md`, `architecture.md` ë“±ìœ¼ë¡œ íŒŒí¸í™”í•˜ì—¬ ê´€ë¦¬ íš¨ìœ¨ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤. 
- **ë°ì´í„° ì´ë™**: `youtube_extract.md`ë¥¼ `data/` í´ë” í•˜ìœ„(`youtube_extract_info.md`)ë¡œ ì´ë™ì‹œì¼°ìŠµë‹ˆë‹¤.

---

## ğŸš€ 2. ë°ì´í„° ìˆ˜ì§‘ ë° ì „ì²˜ë¦¬ (Phase 1)

ê³ í’ˆì§ˆ ì§€ì‹ ë² ì´ìŠ¤ êµ¬ì¶•ê³¼ ë©”íƒ€ë°ì´í„° ê³ ë„í™”ë¥¼ ì™„ìˆ˜í–ˆìŠµë‹ˆë‹¤.

### ì§€ì‹ ë² ì´ìŠ¤ ë° í’ˆì¢… ë°ì´í„°
- **Bemypet Catlab**: ì•„í‹°í´ **1,153ê°œ** í¬ë¡¤ë§ ë° LLM ê¸°ë°˜ êµ¬ì¡°í™”(ì¹´í…Œê³ ë¦¬, í‚¤ì›Œë“œ, ì‹œë§¨í‹± ìš”ì•½) ì™„ë£Œ. `asyncio` ê¸°ë°˜ ë³‘ë ¬ ì²˜ë¦¬ êµ¬ì¡°ë¥¼ ë„ì…í•˜ì—¬ ì„±ëŠ¥ì„ 10ë°° ì´ìƒ ê°œì„ .
- **í’ˆì¢… ë°±ê³¼ í†µí•©**: TheCatAPI + Wikipedia + Master CSV ë³‘í•©. êµ­ë‚´ ì§‘ì‚¬ ì •ì„œì— ë§ëŠ” **67ê°œ í’ˆì¢… ëª…ì¹­** ë§¤ì¹­ ë° ì„±ê²©/ì™¸í˜•/ê±´ê°• ìŠ¤íƒœì¸  JSON í†µí•©.
- **ì „ë¬¸ê°€ ë°ì´í„°**: ìœ íŠœë¸Œ ë¦¬í¬íŠ¸(`youtube_extract_info.md`) íŒŒì‹± ë° ë™ì¼ ìŠ¤í‚¤ë§ˆ í‘œì¤€í™” ì™„ë£Œ.

### ì§€ì‹ Taxonomy ê³ ë„í™” (2-Layer Metadata)
- **Layer 1 (Topic)**: ë‹¤ì¤‘ ë¼ë²¨ ì¹´í…Œê³ ë¦¬ (ê±´ê°•, ì˜ì–‘, í–‰ë™, ìƒí™œ ë“±).
- **Layer 2 (Expert)**: 4ëŒ€ ì „ë¬¸ê°€ í˜ë¥´ì†Œë‚˜(Matchmaker, Liaison, Peacekeeper, Physician) íƒœê·¸ ë§¤í•‘.
- **íš¨ê³¼**: ì—ì´ì „íŠ¸ê°€ ì§ˆë¬¸ ì˜ë„ì— ë”°ë¼ íŠ¹ì • ì „ë¬¸ê°€ ì˜ì—­ë§Œ ì„ ë³„ ê²€ìƒ‰(Pre-filtering) ê°€ëŠ¥.

---

## ğŸ¤– 3. ì±—ë´‡ ì—ì´ì „íŠ¸ ë° ìœ ì € ê²½í—˜ (UX) ê°œì„ 

LangGraph ê¸°ë°˜ì˜ ê³„ì¸µí˜• ì‹œìŠ¤í…œ êµ¬ì¶•ê³¼ ì•ˆì •ì„± íŒ¨ì¹˜ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

### ê³„ì¸µí˜• LangGraph 1.0.7 ì‹œìŠ¤í…œ
- **Command íŒ¨í„´ ë„ì…**: ìµœì‹  LangGraph ë¬¸ë²•ì„ ì ìš©í•˜ì—¬ ë…¸ë“œ ë‚´ë¶€ì—ì„œ `Command(goto=...)`ë¥¼ í†µí•œ ì„ ì–¸ì  ë¼ìš°íŒ… ìˆ˜í–‰.
- **íŒ€ êµ¬ì„±**: `Head Butler`(ë¼ìš°íŒ…) â†’ `Adoption Team`(Matchmaker/Liaison) / `Care Team`(Physician/Peacekeeper).
- **RAG í†µí•©**: ëª¨ë“  ì „ë¬¸ê°€ ë…¸ë“œê°€ `HybridRetriever`ë¥¼ í†µí•´ ì‹¤ì œ ë°ì´í„°ì— ê·¼ê±°í•œ ì‹¤ì‹œê°„ ì¡°ì–¸ ì œê³µ.

### v2.1 ì•ˆì •ì„± ë° UX íŒ¨ì¹˜ (Stability Patch)
- **ë©”ì‹œì§€ ì—­í•  ì •ê·œí™”**: ëª¨ë“  ì‘ë‹µì„ `AIMessage`ë¡œ í†µì¼í•˜ê³  ì‹œìŠ¤í…œ í† í°(`__end__` ë“±) í•„í„°ë§ ê°•í™”.
- **ì‘ë‹µ í†µí•© (Consolidated Response)**: ì…ì–‘ ì¶”ì²œê³¼ ë³´í˜¸ì†Œ ì •ë³´ ë“± ë‚˜ë‰˜ì–´ìˆë˜ ì‘ë‹µì„ í•˜ë‚˜ì˜ ì™„ì„±ëœ ì „ë¬¸ê°€ ì†Œê²¬ìœ¼ë¡œ í†µí•© ì œê³µ.
- **í”„ë¡œí•„ ê¸°ë°˜ ë§¤ì¹­**: ì˜¨ë³´ë”©ì—ì„œ ìˆ˜ì§‘í•œ ì‚¬ìš©ì ê±°ì£¼ í™˜ê²½ ë° ì„±í–¥ì„ ê²€ìƒ‰ ì¿¼ë¦¬ì— ìë™ ë°˜ì˜í•˜ë„ë¡ ê³ ë„í™”.

---

## ğŸ’¾ 4. ì¸í”„ë¼ ë° ë°ì´í„°ë² ì´ìŠ¤ (Phase 2)

- **ì„ë² ë”© ì‹œìŠ¤í…œ**: OpenAI(`text-embedding-3-small`)ì™€ ë¡œì»¬ ëª¨ë¸ ê°„ ë™ì  ì „í™˜ íŒ©í† ë¦¬ êµ¬í˜„. M2 Mac MPS ì¶©ëŒ ë°©ì§€ë¥¼ ìœ„í•œ Lazy Import ì ìš©.
- **MongoDB Atlas ì ì¬**: OpenAI(1536 dim) ì„ë² ë”© ê¸°ë°˜ ì ì¬ ë° ìµœì  ì¸ë±ì‹±(Vector/Keyword) ì™„ë£Œ.
- **ìŠ¤í‚¤ë§ˆ ë³´ì •**: ë°ì´í„° ìŠ¤í‚¤ë§ˆ ë¶ˆì¼ì¹˜ ì´ìŠˆ í•´ê²° (`name` -> `name_en` ë“±).

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ
- **Backend**: Python 3.12, Motor (Async MongoDB), Pydantic
- **Agent**: LangChain, LangGraph 1.0.7, OpenAI GPT-4o-mini
- **NLP/Embedding**: Kiwipiepy, OpenAI text-embedding-3-small, Sentence-Transformers

## ğŸš€ í–¥í›„ ê³¼ì œ
- V2 ì§€ì‹ ë² ì´ìŠ¤ ì™„ì „ ì ì¬ ë° ê²€ìƒ‰ í’ˆì§ˆ ì •ë°€ íŠœë‹.
- Streamlit ê¸°ë°˜ ìœ ì € ì˜¨ë³´ë”© í˜ì´ì§€ì™€ ì—ì´ì „íŠ¸ ìµœì¢… ì—°ë™.
- ì—ì´ì „íŠ¸ë³„ ì‘ë‹µ ì •í•©ì„± ì •ë°€ í…ŒìŠ¤íŠ¸.

---
**CatFit Team** | "ì§‘ì‚¬ì™€ ê³ ì–‘ì´ì˜ ë” ë‚˜ì€ ì—°ê²°ì„ ìœ„í•œ ê¸°ìˆ ì  ì—¬ì •"
**ê¸°ë¡ì**: CatFit AI Assistant ğŸ©
